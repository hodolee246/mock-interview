6장

중요하다고 생각한 부분
 - 티켓서버의 경우 SPOF에 대한 해결을 위해서는 조삼모사가 된다 (티켓 서버를 여러대 준비 시 동기화 이슈)
책과 생각이 다른 부분
 - X
개인적인 생각
 - 다른 사람들은 트위터 스노플레이크 접근법이 69년이라는 리미트를 가져 이후 다른 방법으로 변경해야 한다는 단점을 이야기함
   - 근데 해당 기법으로 69년이 넘은 대규모 서비스는 존재하지 않음
     - 그래서 이게 단점이다 문제다 이야기 할거면 적어도 넘어서서 어떻게 한 사례가 있어야 한다고 생각함
       - 개인적으로 빠르게 바뀌는 사회에서 69년 이상 살아남는게 더 힘들거 같음
       - 
Q : 전세계 사람들이 사용한다는 가정하에 Long값을 넘으려면 얼마나 걸릴까?
A : Gemini
```
Long 타입의 최대값은 9,223,372,036,854,775,807 입니다. 전 세계 인구가 약 80억 명이라고 가정하고, 모든 사람이 1초마다 새로운 데이터를 생성한다고 가정해 보겠습니다.

1초당 생성되는 데이터 개수: 8,000,000,000 개
Long 타입의 최대값까지 도달하는 데 걸리는 시간: 9,223,372,036,854,775,807 / 8,000,000,000 초
계산 결과: 약 1,152,921,504,606.847 초

이를 년으로 환산하면 다음과 같습니다.

1년은 365.25일 * 24시간 * 60분 * 60초 = 31,557,600 초
따라서, Long 타입의 최대값까지 도달하는 데 걸리는 시간은 약 1,152,921,504,606.847 / 31,557,600 년 ≈ 36,536년 입니다.

물론 이는 극단적인 가정이며, 실제 서비스에서는 데이터 생성 속도가 훨씬 낮을 수 있습니다. 하지만 이 계산을 통해 Long 타입이 매우 큰 값을 저장할 수 있으며, 일반적인 서비스 환경에서는 PK 값 고갈을 걱정할 필요가 없다는 것을 알 수 있습니다.

결론적으로, 전 세계 모든 사람이 1초마다 데이터를 생성한다고 가정하더라도, Long 타입의 PK 값이 고갈되기까지는 매우 오랜 시간이 걸립니다. 따라서 대부분의 서비스에서는 Long 타입을 PK로 사용하는 것이 안전하고 효율적인 선택입니다.
```

7장

중요하다고 생각한 부분
- X
책과 생각이 다른 부분
- X
개인적인 생각
- URL 단축 시 결국 DB 검색이라는 오버헤드가 발생
  - 과연 이 방법으로 URL 단축하는게 손해일까? (DB오버헤드) 아니면 그냥 URL 단축 안하고 사용하는게 손해일까?

Q : 대규모 시스템에서 URL 단축으로 얻는 이점이 클지? DB 조회 오버헤드로 인하여 단축을 안하는게 이점이 더 클지?
A : Gemini
```
URL 단축으로 얻는 이점
가독성 및 공유 용이성, 추적 및 분석, 브랜드 인지도 향상, 트래픽 관리 및 부하 분산 (간접적), 링크 업데이트 용이성
책에서 Base62 인코딩 후 DB 확인을 통해 충돌을 처리하는 방식은 약간의 오버헤드를 발생시키지만, 
일반적으로 URL 단축을 통해 얻는 다양한 이점들이 이 오버헤드를 상쇄하고 남을 만큼 크다고 볼 수 있습니다. 
특히 대규모 서비스에서는 사용자 경험과 데이터 분석의 중요성을 고려할 때, 이러한 방식이 합리적인 선택일 가능성이 높습니다.
```
